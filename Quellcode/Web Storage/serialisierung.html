<!DOCTYPE html>
<html lang="de">

    <head>
        <meta charset="utf-8">
        <title>Serialisierung von Objekten</title>
    <!-- Latest compiled and minified CSS -->
    <!--<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">-->
<link rel="stylesheet" href="bootstrap.min.css">

    <!-- Optional theme -->
     <!--<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap-theme.min.css" integrity="sha384-rHyoN1iRsVXV4nD0JutlnGaslCJuC7uwjduW9SVrLvRYooPp2bWYgmgJQIXwl/Sp" crossorigin="anonymous">-->
   
    <link rel="stylesheet" href="bootstrap-theme.min.css">
        <script><!--
            function Veranstaltung(titel, nummer, art, sws, angebot) {
                this.titel = titel;
                this.nummer = nummer;
                this.art = art;
                this.sws = sws;
                this.angebot = angebot;
            }

            function init() {
                document.getElementById("output").style.display = "none";
                //document.getElementById("test").className = "btn-info form-control";
            }

            function deserializeSession() {
                alert(sessionStorage.getItem("test2"));
            }
            function deserializeLocal() {
                alert(localStorage.getItem("test"));
            }
            function localClear() {
                localStorage.clear();
            }
            function serializeLocalData() {
                var titel = document.getElementById("titel").value;
                var nummer = document.getElementById("nummer").value;
                var art = document.getElementById("art").value;
                var sws = document.getElementById("sws").value;
                var angebot = document.getElementById("angebot").value;

                var veranstaltung = new Veranstaltung(titel, nummer, art, sws, angebot);
                
                var json = JSON.stringify(veranstaltung);

                document.getElementById("jsondata").innerHTML = json;
                document.getElementById("output").style.display = "block";
                localStorage.setItem("test", json);
                //sessionStorage.setItem("test2", json);
            }
            function serializeSessionData() {
                var titel = document.getElementById("titel").value;
                var nummer = document.getElementById("nummer").value;
                var art = document.getElementById("art").value;
                var sws = document.getElementById("sws").value;
                var angebot = document.getElementById("angebot").value;

                var veranstaltung = new Veranstaltung(titel, nummer, art, sws, angebot);

                var json = JSON.stringify(veranstaltung);

                document.getElementById("jsondata").innerHTML = json;
                document.getElementById("output").style.display = "block";
                //localStorage.setItem("test", json);
                sessionStorage.setItem("test2", json);
            }
        --></script>
        <style>
            h1{
                color: #2C669A;
                font-size: 40px;
            }
            p{
                color: #2C669A;
                font-size: 30px;
            }
        </style>
    </head>

    <body onload="init()">
    <div class="container">
        <div class="col-md-12">
            <div class="row">
                <h1 class="col-md-7 col-md-push-2">Serialisieren von Daten / Objekten</h1>
            </div>
            <div class="row">
                <div class="col-md-3 col-md-push-1">
                    <label for="titel" class="btn-primary form-control">Titel:</label>
                </div>
                <div class="col-md-4 col-md-push-1">
                    <input type="text" id="titel" class="btn-info form-control"/>
                </div>
            </div>
            <div class="row">
                <div class="col-md-3 col-md-push-1">
                    <label for="nummer" class="btn-primary form-control">Nummer:</label>
                </div>
                <div class="col-md-4 col-md-push-1">
                    <input type="text" id="nummer" class="btn-info form-control"/>
                </div>
            </div>
            <div class="row">
            <div class="col-md-3 col-md-push-1">
                <label for="art" class="btn-primary form-control">Art:</label>
            </div>
            <div class="col-md-4 col-md-push-1">
                <input type="text" id="art" class="btn-info form-control"/>
            </div>
            </div>
            <div class="row">
            <div class="col-md-3 col-md-push-1">
                <label for="sws" class="btn-primary form-control">Semesterwochenstunden:</label>
            </div>
            <div class="col-md-4 col-md-push-1">
                <input type="text" id="sws" class="btn-info form-control"/>
            </div>
            </div>
            <div class="row">
            <div class="col-md-3 col-md-push-1">
                <label for="angebot" class="btn-primary form-control">Angebot im Semester:</label>
            </div>
            <div class="col-md-4 col-md-push-1">
                <input type="text" id="angebot" class="btn-info form-control"/>
            </div>
            </div>

            <div style="margin-top: 45px" class="row">
                <div class="col-md-2">
                    <button class="form-control btn-primary" style="height: 50px;" onclick="serializeLocalData()">Serialisieren zu Local Storage</button>
                </div>
                <div class="col-md-2">
                    <button class="btn-primary form-control" style="height: 50px" onclick="serializeSessionData()">Serialisieren zu Session Storage</button>
                </div>
                <div class="col-md-2">
                    <button class="btn-primary form-control" style="height: 50px" onclick="deserializeLocal()">LocalStorage</button>
                </div>
                <div class="col-md-2">
                    <button class="btn-primary form-control" style="height: 50px" onclick="deserializeSession()">SessionStorage</button>
                </div>
                <div class="col-md-2">
                    <button class="btn-primary form-control" id="test" style="height: 50px" onclick="localClear()">Clear Local Data</button>
                </div>
            </div>


        </div>
        <div id="output">
            <div class="row">
                <div class="col-md-3 col-md-push-4">
                    <h1>JSON</h1>
                </div>
            </div>

            <div class="row">
                <div class="col-md-12 col-md-push-1">
                    <!--<div id="jsondata" />-->
                    <p id="jsondata"></p>
                </div>
            </div>
        </div>
    </div>
    </body>
</html>